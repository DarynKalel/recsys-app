<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Movie Recommender</title>
</head>
<body>
  <h1>ðŸŽ¬ Movie Recommender</h1>

  <label for="userSelect">Choose user:</label>
  <select id="userSelect">
    <option value="1">User 1</option>
    <option value="2">User 2</option>
    <option value="3">User 3</option>
  </select>

  <button onclick="getRecommendations()">Get Recommendations</button>

  <h2>Recommended Movies:</h2>
  <ul id="recommendations"></ul>

  <script>
    async function getRecommendations() {
      const userId = document.getElementById("userSelect").value;

      try {
        const response = await fetch(`/recommend/${userId}`);
        const data = await response.json();

        const list = document.getElementById("recommendations");
        list.innerHTML = "";

        if (data.recommendations.length === 0) {
          list.innerHTML = "<li>No recommendations</li>";
        } else {
          data.recommendations.forEach(movie => {
            const li = document.createElement("li");
            li.textContent = `${movie.title} (id: ${movie.id})`;
            list.appendChild(li);
          });
        }
      } catch (err) {
        console.error("Error:", err);
      }
    }
  </script>
</body>
</html>
